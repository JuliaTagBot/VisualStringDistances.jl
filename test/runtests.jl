using Pkg
# Add unregistered dependency
Pkg.add(PackageSpec(url="https://github.com/ericphanson/UnbalancedOptimalTransport.jl", rev="master"))
using VisualStringDistances
using Test
using VisualStringDistances: glyph!


@testset "VisualStringDistances.jl" begin
   
@testset "Glyphs" begin
    g = glyph!(hex2bytes("0000000018242442427E424242420000"))
    @test sprint(show, g)== """
        --------
        --------
        --------
        --------
        ---##---
        --#--#--
        --#--#--
        -#----#-
        -#----#-
        -######-
        -#----#-
        -#----#-
        -#----#-
        -#----#-
        --------
        --------
        """

    g = glyph!(hex2bytes("00000000000003C0042004200840095008E01040100010002000200000000000"))
    @test sprint(show, g) == """
        ----------------
        ----------------
        ----------------
        ------####------
        -----#----#-----
        -----#----#-----
        ----#----#------
        ----#--#-#-#----
        ----#---###-----
        ---#-----#------
        ---#------------
        ---#------------
        --#-------------
        --#-------------
        ----------------
        ----------------
        """

    @test sprint(show, Glyph("abc")) == """
        ------------------------
        ------------------------
        ------------------------
        ---------#--------------
        ---------#--------------
        ---------#--------------
        --####---#-###----####--
        -#----#--##---#--#----#-
        ------#--#----#--#------
        --#####--#----#--#------
        -#----#--#----#--#------
        -#----#--#----#--#------
        -#---##--##---#--#----#-
        --###-#--#-###----####--
        ------------------------
        ------------------------
        """
end

end
